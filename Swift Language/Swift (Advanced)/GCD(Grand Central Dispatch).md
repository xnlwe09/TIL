# GCD(Grand Central Dispatch)

## GCD(Grand Central Dispatch)란?

멀티스레딩을 쉽게 관리할 수 있도록 하는 (동시성 프로그래밍을 위한) Apple의 프레임워크 (API..?)

Thread를 직접 생성하거나 관리하지 않고, Task를 Queue에 넣어 시스템이 알아서

Thread에서 실행하게 하는 멀티스레딩 기술

(Queue에 작업을 보내면 그에 따른 스레드를 적절히 생성해서 분배함)

<aside>

## 📍개념 용어 정리

- Queue(큐) : 작업을 순서대로 처리하는 공간 (iOS에선 작업을 한 곳에 보내기만 하면 됨 알아서 OS가 다른 스레드로 분산 처리하니까! → 그곳이 큐임)
- Task(작업) : 큐에 넣는 코드 블록(클로저)
- Thread(스레드) : 실제 코드가 실행되는 단위
- Dispatch : 작업을 큐에 보내는 것

**쉽게 말해서 !**

Task : 할 일 (작업)

Thread : 일 처리하는 노동자

Queue : 노동자의 할 일 리스트

</aside>

메인 스레드가 UI 그리기랑 사용자 입력 처리만 담당해야하는데 모든 Task가 메인 스레드로 가면 앱이 프리징날 수 있어서 그 Task들은 분배해줘야함

### → 개발자가 큐에 넣은 Task를 어떤 Thread에 분배할지를 GCD가 하는 거!!

- UI 작업 → 메인 큐에 보냄
- 무거운 작업 → 백그라운드 큐에 보냄

<aside>

### 📎 메인 큐(Main Queue) : Main Thread에서 실행되는 큐

- UI 관련 Task만 들어감
- Serial Queue → 순서대로 하나씩 실행
    - 한 작업이 끝나야 다음 작업이 실행됨
</aside>

<aside>

### 📎 글로벌 큐(Global Queue) : Background Thread에서 실행되는 큐

- 무거운 Task나 동시 처리 작업을 처리함
- Concurrent Queue → 여러 작업 동시 실행 가능
    - 시스템이 가능한 스레드를 여러 개 만들어 동시에 Task 처리 (순서 보장은 안됨)
</aside>

<aside>

### 커스텀 큐(Custom Queue) : 개발자가 직접 만들고 속성을 지정할 수 있는 큐

- 특정 작업을 원하는 방식으로 처리하고 싶을 때 사용
- 특정 목적이나 로직에 맞춰 작업 처리 순서와 동시성 제어 가능
- Serial(직렬), Concurrent(동시) 둘 다 가능해서 선택해서 사용하면 됨
</aside>

## 실행 방식

async : 비동기 실행 → 큐에 넣고 바로 리턴 (작업 완료를 기다리지 않음)

sync : 동기 실행 → 큐에 넣고 완료될 때까지 기다림 (메인 스레드에서 사용하면 주금)

     백그라운드 스레드에서 순차적으로 처리할 때만 사용

## GCD 장점

1. UI 프리징 방지 → 메인 스레드에서 무거운 작업을 피할 수 있음
2. 동시성 처리 → 백그라운드에서 여러 작업을 동시에 처리 가능함