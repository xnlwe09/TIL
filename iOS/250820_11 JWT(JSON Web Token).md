# JWT(JSON Web Token)

생성일: 2025년 8월 20일 오후 10:26

## JWT(JSON Web Token)이란?

**온라인 네트워크에서 정보를 안전하게 통신할 때 사용하는 인터넷 표준 토큰**

JWT는 인증, 정보 교환 등 다양한 용도에 사용

이때 주고받는 정보를 클레임(Claim)이라고 하고, 클레임의 집합은 JSON 객체로 표현

### JWT의 두 가지 유형

**JWS(JSON Web Signature)**

: 더 널리 사용되는 방식으로 JWS 방식을 사용하면 클레임의 내용은 누구나 읽을 수 있지만

서명이 있어 데이터의 무결성이 보장됨

**JWE(JSON Web Encryption)**

: JWE에서는 클레임 자체는 암호화해서 복호화(?) 방법을 알고 있는 사용자만 페이로드를 읽을 수 있음

→ 보안 측면에서는 JWE가 더 안전하지만 페이로드의 데이터를 클라이언트가 바로 사용해야 된다면

JWS가 더 편리하고 데이터의 무결성을 보장할 수 있음

## JWT의 구성

헤더, 페이로드, 서명 세 가지 주요 요소로 구성되고 각 구성은 `.` 마침표를 구분자로 사용

<aside>

### 📍헤더(Header)

일반적으로 헤더에는 토큰의 유형과 서명 알고리즘을 명시

JSON으로 표현된 헤더를 Base64로 인코딩한 게 JWT 헤더

</aside>

<aside>

### 📍페이로드(Payload)

사용자 정보의 한 조각인 클레임(Claim)이 들어있음

- sub : 토큰 제목(sunject)
- aud : 토큰 대상자(audience)
- iat : 토큰이 발급된 시각(issued at)
- exp : 토큰의 만료 시작(expired)
</aside>

<aside>

### 📍서명(Signature)

헤더와 페이로드를 결합한 후 헤더에서 지정된 알고리즘과 비밀 키 / 공개 키로 서명한 값

(이 값은 복호화해서 원래 데이터를 얻는 것보다 검증을 통해 유효성 확인이 핵심임)

</aside>

## JWT 특징

<aside>

- JWT는 독립적(Stateless)이기 때문에 필요한 정보를 모두 자체적으로 들고 있어 서버 측에서
    
    세션을 저장할 필요가 없음. 덕에 JWT를 이용하면 서버 부하를 줄일 수 있고 확장성 확보 가능
    
- JWT를 사용하면 무결성이 보장됨
    
    → JWS는 서명을 통해 토큰이 변조되지 않았음을 확인
    
    → JWE는 페이로드를 암호화하기 때문에 데이터의 기밀성 보장
    
- JWT는 간결하고 URL에서 안전하게 사용할 수 있음
    
    모바일 기기 / 애플리케이션에서 클라이언트가 편리하게 파싱하고 이용 가능
    
</aside>

## 장단점

<aside>

### 📌 장점

- 로컬에 저장하기 때문에 서버 용량에 영향을 끼치거나 받지 않음
- 안전함 (공개 키 / 개인 키 / 비밀 키 를 통해 서명되기 때문에)
- 모바일 앱에서 사용하기 적합 (모바일 앱은 여러 플랫폼 및 기기에서 동작할 수 있고, 서로 다른 도메인에서 통신할 수도 있음. 이때 JWT를 사용하면 플랫폼 독립적으로 사용자 인증 처리를 할 수 있기 때문)
- 네트워크 부하가 적음 (HTTP 헤더나 URL 파라미터를 통해 간단하게 전송되기 때문)
</aside>

<aside>

### 📌 단점

- 토큰의 크기가 커질수록 트래픽에 영향을 미칠 수 있음
- 토큰은 발급되면 만료 기간 변경이 불가능하기 때문에 토큰 만료 처리를 구현해야함
</aside>

## 정리

<aside>

- 사용 목적 : JWT 토큰은 사용자 인증과 로그인 유지를 위해 쓰임
- 토큰의 구조
    - Header : 서명 알고리즘 (공개 키 / 개인 키 or 비밀 키)
    - Payload : 토큰 정보 (대상, 발급시각, 만료시각)
    - Signature : (Header + Payload) 서명 (인증용)
</aside>